//
//  ArticleAPIParsing.swift
//  NYTimesAPITests
//
//  Created by Alex Hartwell on 9/14/17.
//  Copyright © 2017 ahartwel. All rights reserved.
//

import XCTest
import SwiftyJSON

class ArticleAPIParsing: XCTestCase {
    
    func testParsingOfResponse() {
        //swiftlint:disable:next line_length
        let response = "{\"status\":\"OK\",\"copyright\":\"Copyright (c) 2017 The New York Times Company. All Rights Reserved.\",\"response\":{\"docs\":[{\"web_url\":\"https://www.nytimes.com/2017/09/04/world/europe/uk-britain-gender-children-john-lewis.html\",\"snippet\":\"John Lewis, the British retailer, has sparked a spirited discussion by eliminating boys and girls signs and using gender-neutral clothing tags at its stores.\",\"print_page\":\"8\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/09/05/world/05Gender/05Gender-articleLarge.jpg\",\"height\":400,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/09/05/world/05Gender/05Gender-articleLarge.jpg\",\"xlargeheight\":400}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/09/05/world/05Gender/05Gender-thumbWide.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/09/05/world/05Gender/05Gender-thumbWide.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/09/05/world/05Gender/05Gender-thumbStandard.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/09/05/world/05Gender/05Gender-thumbStandard.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"Gender War, Aisle 3: Unisex Kids’ Clothes Stir British Backlash\",\"print_headline\":\"In Britain, Gender Debate Spills Into Children’s Aisle\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Gender\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"Fashion and Apparel\"},{\"isMajor\":\"N\",\"rank\":3,\"name\":\"subject\",\"value\":\"T-Shirts (Apparel)\"},{\"isMajor\":\"N\",\"rank\":4,\"name\":\"organizations\",\"value\":\"Asda Stores Ltd\"},{\"isMajor\":\"N\",\"rank\":5,\"name\":\"persons\",\"value\":\"Lewis, John R\"},{\"isMajor\":\"N\",\"rank\":6,\"name\":\"glocations\",\"value\":\"Great Britain\"}],\"pub_date\":\"2017-09-04T15:38:43+0000\",\"document_type\":\"article\",\"new_desk\":\"Foreign\",\"section_name\":\"Europe\",\"byline\":{\"original\":\"By DAN BILEFSKY\"},\"type_of_material\":\"News\",\"_id\":\"59ad738f7c459f246b621a71\",\"word_count\":861,\"score\":2.8019857,\"uri\":\"nyt://article/9ffe7222-b6c7-51bd-a9d5-7038b3875773\"},{\"web_url\":\"https://www.nytimes.com/2017/08/09/fashion/perfect-summer-t-shirt-guide.html\",\"snippet\":\"Sometimes the simplest things are the hardest to pin down.\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/08/10/fashion/10BROWSE4/10BROWSE4-articleLarge.jpg\",\"height\":728,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/08/10/fashion/10BROWSE4/10BROWSE4-articleLarge.jpg\",\"xlargeheight\":728}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/08/10/fashion/10BROWSE4/10BROWSE4-thumbWide.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/08/10/fashion/10BROWSE4/10BROWSE4-thumbWide.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/08/10/fashion/10BROWSE4/10BROWSE4-thumbStandard-v2.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/08/10/fashion/10BROWSE4/10BROWSE4-thumbStandard-v2.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"A Guide to Finding the Perfect Summer T-Shirt\",\"kicker\":\"Browsing\",\"print_headline\":\"A Guide to Finding the Perfect Summer T-Shirt\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Fashion and Apparel\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"T-Shirts (Apparel)\"},{\"isMajor\":\"N\",\"rank\":3,\"name\":\"organizations\",\"value\":\"Calder (Fashion Label)\"},{\"isMajor\":\"N\",\"rank\":4,\"name\":\"organizations\",\"value\":\"Maje (Fashion Label)\"},{\"isMajor\":\"N\",\"rank\":5,\"name\":\"organizations\",\"value\":\"Vetements (Fashion Label)\"},{\"isMajor\":\"N\",\"rank\":6,\"name\":\"persons\",\"value\":\"Reynolds, Audrey Louise\"}],\"pub_date\":\"2017-08-09T17:45:07+0000\",\"document_type\":\"article\",\"new_desk\":\"Styles\",\"byline\":{\"original\":\"By HAYLEY PHELAN\"},\"type_of_material\":\"News\",\"_id\":\"598b4a2a7c459f246b61d801\",\"word_count\":537,\"score\":2.7967865,\"uri\":\"nyt://article/692a975a-82b1-5d0f-a979-2df0a1fe84f4\"},{\"web_url\":\"https://www.nytimes.com/slideshow/2017/09/05/t-magazine/state-of-play-suiting-meets-sportswear.html\",\"snippet\":\"Fall’s free-spirited look, photographed on the models Chris Diena and Diacaria.\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/09/05/t-magazine/tailored-slide-MTWT/tailored-slide-MTWT-thumbStandard.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/09/05/t-magazine/tailored-slide-MTWT/tailored-slide-MTWT-thumbStandard.jpg\",\"thumbnailwidth\":75}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/09/05/t-magazine/tailored-slide-MTWT/tailored-slide-MTWT-thumbWide.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/09/05/t-magazine/tailored-slide-MTWT/tailored-slide-MTWT-thumbWide.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/09/05/t-magazine/tailored-slide-MTWT/tailored-slide-MTWT-articleLarge.jpg\",\"height\":606,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/09/05/t-magazine/tailored-slide-MTWT/tailored-slide-MTWT-articleLarge.jpg\",\"xlargeheight\":606}}],\"headline\":{\"main\":\"State of Play: Suiting Meets Sportswear\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Fashion and Apparel\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"T-Shirts (Apparel)\"},{\"isMajor\":\"N\",\"rank\":3,\"name\":\"subject\",\"value\":\"Shoes and Boots\"}],\"pub_date\":\"2017-09-05T17:43:23+0000\",\"document_type\":\"multimedia\",\"new_desk\":\"T Magazine\",\"byline\":{\"original\":null},\"type_of_material\":\"Slideshow\",\"_id\":\"59aee24a7c459f246b621d7f\",\"word_count\":11,\"slideshow_credits\":\"Photograph by Karim Sadli. Styled by Max Pearmain\",\"score\":2.7365506,\"uri\":\"nyt://slideshow/53385b5e-b521-5f9f-b985-3f0b9c86f976\"},{\"web_url\":\"https://www.nytimes.com/2017/08/29/t-magazine/charlottesville-art-robert-longo-toyin-ojih-odutola-sanford-biggers.html\",\"snippet\":\"Robert Longo, Toyin Ojih Odutola and other artists reflect on the violent events in the city on Aug. 12. \",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/08/25/t-magazine/25tmag-cvilleheads/25tmag-cvilleheads-articleLarge-v2.jpg\",\"height\":365,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/08/25/t-magazine/25tmag-cvilleheads/25tmag-cvilleheads-articleLarge-v2.jpg\",\"xlargeheight\":365}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/08/25/t-magazine/25tmag-cvilleheads/25tmag-cvilleheads-thumbWide-v2.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/08/25/t-magazine/25tmag-cvilleheads/25tmag-cvilleheads-thumbWide-v2.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/08/25/t-magazine/25tmag-cvilleheads/25tmag-cvilleheads-thumbStandard-v2.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/08/25/t-magazine/25tmag-cvilleheads/25tmag-cvilleheads-thumbStandard-v2.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"5 Artists Respond to: Charlottesville\",\"kicker\":\"T Agitprop\",\"print_headline\":\"5 Artists Respond to: Charlottesville\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Charlottesville, Va, Violence (August, 2017)\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"persons\",\"value\":\"Bowers, Andrea (1965- )\"},{\"isMajor\":\"N\",\"rank\":3,\"name\":\"subject\",\"value\":\"Art\"},{\"isMajor\":\"N\",\"rank\":4,\"name\":\"glocations\",\"value\":\"Charlottesville (Va)\"}],\"pub_date\":\"2017-08-29T21:23:32+0000\",\"document_type\":\"article\",\"new_desk\":\"TStyle\",\"byline\":{\"original\":null},\"type_of_material\":\"News\",\"_id\":\"59a5db5d7c459f246b620b62\",\"word_count\":746,\"score\":2.4849417,\"uri\":\"nyt://article/cee6b8a2-ce38-5257-8bc9-e4ca0d7f8050\"},{\"web_url\":\"https://www.nytimes.com/2017/08/14/t-magazine/cat-models.html\",\"snippet\":\"The sweet story of Cherie, Crystal, Sabrina, Tyrone and one foster kitten — who modeled Japanese sweets for T.\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/07/25/t-magazine/cat-test/cat-test-articleLarge.jpg\",\"height\":338,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/07/25/t-magazine/cat-test/cat-test-articleLarge.jpg\",\"xlargeheight\":338}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/07/25/t-magazine/cat-test/cat-test-thumbWide.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/07/25/t-magazine/cat-test/cat-test-thumbWide.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/07/25/t-magazine/cat-test/cat-test-thumbStandard.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/07/25/t-magazine/cat-test/cat-test-thumbStandard.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"Meet the Cats\",\"kicker\":\"Making T\",\"print_headline\":\"Meet the Cats\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Cats\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"Models (Professional)\"}],\"pub_date\":\"2017-08-14T06:43:00+0000\",\"document_type\":\"article\",\"new_desk\":\"TStyle\",\"byline\":{\"original\":\"By ALAINNA LEXIE BEDDIE\"},\"type_of_material\":\"News\",\"_id\":\"5991467c7c459f246b61e2d4\",\"word_count\":433,\"score\":2.3449025,\"uri\":\"nyt://article/43217218-c01b-5499-aae2-61717efebe06\"},{\"web_url\":\"https://www.nytimes.com/2017/07/19/t-magazine/industry-standard-shirts-lucien-pages-colette-editors-picks.html\",\"snippet\":\"A by-no-means exhaustive list of great things we've stumbled upon.\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/07/14/t-magazine/14tmag-tel1/14tmag-tel1-articleLarge.jpg\",\"height\":400,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/07/14/t-magazine/14tmag-tel1/14tmag-tel1-articleLarge.jpg\",\"xlargeheight\":400}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/07/14/t-magazine/14tmag-tel1/14tmag-tel1-thumbWide.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/07/14/t-magazine/14tmag-tel1/14tmag-tel1-thumbWide.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/07/14/t-magazine/14tmag-tel1/14tmag-tel1-thumbStandard.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/07/14/t-magazine/14tmag-tel1/14tmag-tel1-thumbStandard.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"Some Things T Editors Are Really Into Right Now\",\"print_headline\":\"Some Things T Editors Are Really Into Right Now\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Fashion and Apparel\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"T-Shirts (Apparel)\"},{\"isMajor\":\"N\",\"rank\":3,\"name\":\"organizations\",\"value\":\"Colette (Paris, France, Retailer)\"}],\"pub_date\":\"2017-07-19T20:29:20+0000\",\"document_type\":\"article\",\"new_desk\":\"TStyle\",\"byline\":{\"original\":null},\"type_of_material\":\"News\",\"_id\":\"596fc1257c459f246b619e51\",\"word_count\":385,\"score\":2.3166978,\"uri\":\"nyt://article/02a8dd1f-5b25-5df7-bc9f-360f3504c834\"},{\"web_url\":\"https://www.nytimes.com/2017/08/27/sports/mayweather-mcgregor-fight.html\",\"snippet\":\"In a city of illusion and circuses, Floyd Mayweather Jr. and Conor McGregor pulled off a boxing spectacle in Las Vegas fit for the times.\",\"print_page\":\"1\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/08/28/sports/28BARRYweb04/merlin-to-scoop-126425186-503276-articleLarge.jpg\",\"height\":400,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/08/28/sports/28BARRYweb04/merlin-to-scoop-126425186-503276-articleLarge.jpg\",\"xlargeheight\":400}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/08/28/sports/28BARRYweb04/28BARRYweb04-thumbWide-v2.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/08/28/sports/28BARRYweb04/28BARRYweb04-thumbWide-v2.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/08/28/sports/28BARRYweb04/28BARRYweb04-thumbStandard.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/08/28/sports/28BARRYweb04/28BARRYweb04-thumbStandard.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"Fleece of the Century\",\"kicker\":\"On Boxing\",\"print_headline\":\"Fleece of the Century\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Boxing\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"Advertising and Marketing\"},{\"isMajor\":\"N\",\"rank\":3,\"name\":\"subject\",\"value\":\"Gambling\"},{\"isMajor\":\"N\",\"rank\":4,\"name\":\"organizations\",\"value\":\"T-Mobile Arena (Las Vegas, Nev)\"},{\"isMajor\":\"N\",\"rank\":5,\"name\":\"persons\",\"value\":\"McGregor, Conor (1988- )\"},{\"isMajor\":\"N\",\"rank\":6,\"name\":\"persons\",\"value\":\"Mayweather, Floyd Jr\"}],\"pub_date\":\"2017-08-27T18:16:27+0000\",\"document_type\":\"article\",\"new_desk\":\"Sports\",\"byline\":{\"original\":\"By DAN BARRY\"},\"type_of_material\":\"News\",\"_id\":\"59a30c887c459f246b6205ab\",\"word_count\":1802,\"score\":2.3092058,\"uri\":\"nyt://article/d6a34124-a4b2-52b7-92a9-dc7182ef8468\"},{\"web_url\":\"https://www.nytimes.com/2017/09/07/t-magazine/new-york-city-fashion-week-editors-guide.html\",\"snippet\":\"A short list of places to relax, enjoy a meal, shop a bit — and find some peace between the shows during fashion week (and always).\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/09/07/t-magazine/tmag-nyfw-guide-slide-O3GA/tmag-nyfw-guide-slide-O3GA-articleLarge.jpg\",\"height\":450,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/09/07/t-magazine/tmag-nyfw-guide-slide-O3GA/tmag-nyfw-guide-slide-O3GA-articleLarge.jpg\",\"xlargeheight\":450}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/09/07/t-magazine/tmag-nyfw-guide-slide-O3GA/tmag-nyfw-guide-slide-O3GA-thumbWide.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/09/07/t-magazine/tmag-nyfw-guide-slide-O3GA/tmag-nyfw-guide-slide-O3GA-thumbWide.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/09/07/t-magazine/tmag-nyfw-guide-slide-O3GA/tmag-nyfw-guide-slide-O3GA-thumbStandard.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/09/07/t-magazine/tmag-nyfw-guide-slide-O3GA/tmag-nyfw-guide-slide-O3GA-thumbStandard.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"T’s Fashion Editors’ Guide to New York\",\"kicker\":\"T City Guides\",\"print_headline\":\"T’s Fashion Editors’ Guide to New York\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Fashion and Apparel\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"New York Fashion Week\"}],\"pub_date\":\"2017-09-07T19:34:25+0000\",\"document_type\":\"article\",\"new_desk\":\"TStyle\",\"byline\":{\"original\":\"By JOHN WOGAN\"},\"type_of_material\":\"News\",\"_id\":\"59b19f4c7c459f246b62254a\",\"word_count\":854,\"score\":2.073157,\"uri\":\"nyt://article/9044898f-28cb-5f86-a60c-6c367e0442d6\"},{\"web_url\":\"https://www.nytimes.com/pages/t-magazine/t-magazine-email/index.html\",\"snippet\":\"\",\"blog\":{},\"multimedia\":[],\"headline\":{\"main\":\"T Magazine\"},\"keywords\":[],\"document_type\":\"sectionfront\",\"type_of_material\":\"SectionFront\",\"_id\":\"54380d7238f0d83c143b81f2\",\"score\":2.0350227},{\"web_url\":\"https://www.nytimes.com/2017/08/31/t-magazine/berber-lodge-sigve-knutson-logomania-trend-editors-picks.html\",\"snippet\":\"New and exciting things in the worlds of fashion, art, food, travel and design.\",\"blog\":{},\"source\":\"The New York Times\",\"multimedia\":[{\"type\":\"image\",\"subtype\":\"xlarge\",\"url\":\"images/2017/08/21/t-magazine/21tmag-tt-slide-62KG/21tmag-tt-slide-62KG-articleLarge.jpg\",\"height\":400,\"width\":600,\"rank\":0,\"legacy\":{\"xlargewidth\":600,\"xlarge\":\"images/2017/08/21/t-magazine/21tmag-tt-slide-62KG/21tmag-tt-slide-62KG-articleLarge.jpg\",\"xlargeheight\":400}},{\"type\":\"image\",\"subtype\":\"wide\",\"url\":\"images/2017/08/21/t-magazine/21tmag-tt-slide-62KG/21tmag-tt-slide-62KG-thumbWide.jpg\",\"height\":126,\"width\":190,\"rank\":0,\"legacy\":{\"wide\":\"images/2017/08/21/t-magazine/21tmag-tt-slide-62KG/21tmag-tt-slide-62KG-thumbWide.jpg\",\"widewidth\":190,\"wideheight\":126}},{\"type\":\"image\",\"subtype\":\"thumbnail\",\"url\":\"images/2017/08/21/t-magazine/21tmag-tt-slide-62KG/21tmag-tt-slide-62KG-thumbStandard.jpg\",\"height\":75,\"width\":75,\"rank\":0,\"legacy\":{\"thumbnailheight\":75,\"thumbnail\":\"images/2017/08/21/t-magazine/21tmag-tt-slide-62KG/21tmag-tt-slide-62KG-thumbStandard.jpg\",\"thumbnailwidth\":75}}],\"headline\":{\"main\":\"On T’s Radar: A Mountain Getaway, Lumpy Design & More\",\"print_headline\":\"On T’s Radar: A Mountain Getaway, Lumpy Design & More\"},\"keywords\":[{\"isMajor\":\"N\",\"rank\":1,\"name\":\"subject\",\"value\":\"Art\"},{\"isMajor\":\"N\",\"rank\":2,\"name\":\"subject\",\"value\":\"Interior Design and Furnishings\"},{\"isMajor\":\"N\",\"rank\":3,\"name\":\"subject\",\"value\":\"Restaurants\"}],\"pub_date\":\"2017-08-31T14:10:16+0000\",\"document_type\":\"article\",\"new_desk\":\"TStyle\",\"byline\":{\"original\":\"By T MAGAZINE\"},\"type_of_material\":\"News\",\"_id\":\"59a818d27c459f246b6210b8\",\"word_count\":1368,\"score\":2.0236049,\"uri\":\"nyt://article/49d49940-c91e-57f8-8497-d9e2483a137b\"}],\"meta\":{\"hits\":3180756,\"offset\":0,\"time\":421}}}"
        let json = JSON(parseJSON: response)
        XCTAssertNotNil(json["status"].string)
    }
    
    func testArticlesAreParsedProperly() {
        let exp = self.expectation(description: "articles are parsed properly")
        ServiceSettings.stubRequests = true
        let articlesAPI = TimesArticleAPIImplementation()
        _ = articlesAPI.getArticles(fromTag: TimesTag(fullTag: "")).then { articles -> Void in
            XCTAssertEqual(articles.count, 10)
            XCTAssertEqual(articles[0].headline, "Gender War, Aisle 3: Unisex Kids’ Clothes Stir British Backlash")
            exp.fulfill()
        }
        self.waitForExpectations(timeout: 0.3, handler: nil)
    }
    
}
